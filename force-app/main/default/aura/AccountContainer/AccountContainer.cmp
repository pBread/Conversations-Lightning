<aura:component controller="TwilioConversationApi">
  <!-- Parent Attributes -->
  <aura:attribute
    access="public"
    default=""
    description="The Id of the Twilio_Credentials__c record for this account"
    name="twilioAccount"
    required="true"
    type="Object"
  />
  <aura:attribute
    access="public"
    description="Contact record"
    name="contact"
    required="true"
    type="Object"
  />

  <!-- Conversations -->
  <aura:attribute
    access="public"
    description="All conversations of this user in this account"
    name="conversations"
    required="true"
    type="Object[]"
  />

  <!-- Handlers -->
  <aura:handler name="init" value="{!this}" action="{!c.initialize}" />

  <!-- UI -->
  <div>Account {!v.twilioAccount.Name}</div>
  <lightning:button label="Tester" onclick="{!c.tester}" />

  <div>Conversations</div>
  <aura:iteration items="{!v.conversations}" var="conversation">
    <c:ConversationContainer
      contact="{!v.contact}"
      conversation="{!conversation}"
      twilioAccount="{!v.twilioAccount}"
    />
  </aura:iteration>
</aura:component>
