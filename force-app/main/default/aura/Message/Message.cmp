<aura:component controller="TwilioConversationApi">
  <!-- Parent Attributes -->
  <aura:attribute
    access="public"
    description="Flex/Frontline user record"
    name="agent"
    required="true"
    type="Object"
  />
  <aura:attribute
    access="public"
    description="Contact record"
    name="contact"
    required="true"
    type="Object"
  />
  <aura:attribute
    access="public"
    description="Message records"
    name="message"
    required="true"
    type="Object"
  />
  <!-- UI -->

  <aura:if isTrue="{!v.message.isInbound}">
    <li class="slds-chat-listitem slds-chat-listitem_inbound">
      <div class="slds-chat-message">
        <div class="slds-chat-message__body">
          <div class="slds-chat-message__text slds-chat-message__text_inbound">
            <span>{!v.message.body}</span>
          </div>
          <aura:if isTrue="{!v.message.showAuthor}">
            <div class="slds-chat-message__meta">
              {!v.agent.Name} • {!v.message.dateTime}
            </div>
          </aura:if>
        </div>
      </div>
    </li>
  </aura:if>

  <aura:if isTrue="{!!v.message.isInbound}">
    <li class="slds-chat-listitem slds-chat-listitem_outbound">
      <div class="slds-chat-message">
        <div class="slds-chat-message__body">
          <div class="slds-chat-message__text slds-chat-message__text_outbound">
            <span>{!v.message.body}</span>
          </div>
          <aura:if isTrue="{!v.message.showAuthor}">
            <div class="slds-chat-message__meta">
              {!v.contact.Name} • {!v.message.dateTime}
            </div>
          </aura:if>
        </div>
      </div>
    </li>
  </aura:if>
</aura:component>
