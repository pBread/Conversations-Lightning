<aura:component
  controller="TwilioConversationApi"
  implements="force:hasRecordId"
>
  <aura:handler action="{!c.init}" name="init" value="{!this}" />

  <aura:attribute
    access="public"
    name="conversationSid"
    required="true"
    type="String"
  />
  <aura:attribute
    access="public"
    name="credential"
    required="true"
    type="Twilio_Credentials__c"
  />

  <aura:attribute access="public" default="[]" name="messages" type="List" />
  <aura:attribute
    access="public"
    default="[]"
    name="participants"
    type="List"
  />

  <div>conversationSid: {!v.conversationSid}</div>
  <div>accountSid: {!v.credential.Account_SID__c}</div>

  <aura:iteration items="{!v.messages}" var="message" indexVar="key">
    <c:MessageContainer message="{!message}" />
  </aura:iteration>
</aura:component>
