<aura:component controller="TwilioConversationApi">
  <!-- Parent Attributes -->
  <aura:attribute
    access="public"
    default=""
    description="The Id of the Twilio_Credentials__c record for this account"
    name="twilioAccount"
    required="true"
    type="Object"
  />
  <aura:attribute
    access="public"
    description="Contact record"
    name="contact"
    required="true"
    type="Object"
  />
  <aura:attribute
    access="public"
    description="Conversation record"
    name="conversation"
    required="true"
    type="Object"
  />

  <!-- Conversation Details -->
  <aura:attribute
    access="public"
    description="Message records"
    name="messages"
    type="Object[]"
  />
  <aura:attribute
    access="public"
    description="Participant records"
    name="participants"
    type="Object[]"
  />
  <aura:attribute
    access="public"
    description="Participant record of the Frontline/Flex user"
    name="agent"
    type="Object"
  />

  <!-- Handlers -->
  <aura:handler name="init" value="{!this}" action="{!c.initialize}" />

  <!-- UI -->
  <div>Conversation {!v.conversation.conversation_sid}</div>
  <lightning:button label="Tester" onclick="{!c.tester}" />

  <div>Agent {!v.agent.Name}</div>

  <section role="log" class="slds-chat">
    <div class="slds-chat-bookend">
      <p>Conversation with <b>{!v.agent.Name}</b> â€¢ 4:59 PM</p>
    </div>

    <ul class="slds-chat-list">
      <li class="slds-chat-listitem">Hello</li>
    </ul>
  </section>
</aura:component>
